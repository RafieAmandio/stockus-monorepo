---
phase: 07-frontend-member-area
plan: 04
type: execute
wave: 2
depends_on: ["07-01"]
files_modified:
  - frontend/src/app/(auth)/dashboard/page.tsx
  - frontend/src/components/member/DashboardStats.tsx
  - frontend/src/components/member/QuickActions.tsx
  - frontend/src/types/index.ts
autonomous: true

must_haves:
  truths:
    - "Member can see dashboard overview"
    - "Dashboard shows welcome message with user name"
    - "Dashboard shows quick stats (courses, schedule, downloads)"
    - "Dashboard provides quick actions to key sections"
  artifacts:
    - path: "frontend/src/app/(auth)/dashboard/page.tsx"
      provides: "Dashboard page"
      contains: "DashboardStats|QuickActions"
    - path: "frontend/src/components/member/DashboardStats.tsx"
      provides: "Stats cards for dashboard"
      contains: "Card"
  key_links:
    - from: "frontend/src/app/(auth)/dashboard/page.tsx"
      to: "frontend/src/lib/auth/dal.ts"
      via: "getUser call"
      pattern: "getUser"
---

<objective>
Create the member dashboard page as the landing page after login. Shows welcome message, quick stats overview, and navigation shortcuts to key sections.

Purpose: Central hub for members to see their status and quickly access content.
Output: Dashboard page at /dashboard with stats and quick actions.
</objective>

<execution_context>
@/Users/dio/.claude/get-shit-done/workflows/execute-plan.md
@/Users/dio/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/07-frontend-member-area/07-01-PLAN.md (DAL)

# Frontend patterns
@frontend/src/components/ui/card.tsx
@frontend/src/lib/constants.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create dashboard components</name>
  <files>
    frontend/src/components/member/DashboardStats.tsx
    frontend/src/components/member/QuickActions.tsx
  </files>
  <action>
Create `frontend/src/components/member/DashboardStats.tsx`:
```typescript
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'
import { BookOpen, Calendar, Download, FileText } from 'lucide-react'

interface DashboardStatsProps {
  tier: 'free' | 'member'
}

export function DashboardStats({ tier }: DashboardStatsProps) {
  const stats = [
    {
      title: 'Kursus Tersedia',
      value: tier === 'member' ? 'Akses Penuh' : 'Preview',
      description: tier === 'member' ? 'Semua materi kursus' : 'Konten terbatas',
      icon: BookOpen,
    },
    {
      title: 'Laporan Riset',
      value: tier === 'member' ? 'Akses Penuh' : '3 Laporan',
      description: tier === 'member' ? 'Semua laporan riset' : 'Laporan gratis saja',
      icon: FileText,
    },
    {
      title: 'Template',
      value: tier === 'member' ? 'Akses Penuh' : 'Terbatas',
      description: tier === 'member' ? 'Semua template investasi' : 'Template dasar',
      icon: Download,
    },
    {
      title: 'Jadwal Kohort',
      value: tier === 'member' ? 'Bisa Daftar' : 'Lihat Saja',
      description: tier === 'member' ? 'Daftar kelas live' : 'Perlu jadi member',
      icon: Calendar,
    },
  ]

  return (
    <div className="grid gap-4 md:grid-cols-2 lg:grid-cols-4">
      {stats.map((stat) => (
        <Card key={stat.title}>
          <CardHeader className="flex flex-row items-center justify-between space-y-0 pb-2">
            <CardTitle className="text-sm font-medium">{stat.title}</CardTitle>
            <stat.icon className="h-4 w-4 text-muted-foreground" />
          </CardHeader>
          <CardContent>
            <div className="text-2xl font-bold">{stat.value}</div>
            <p className="text-xs text-muted-foreground">{stat.description}</p>
          </CardContent>
        </Card>
      ))}
    </div>
  )
}
```

Create `frontend/src/components/member/QuickActions.tsx`:
```typescript
import Link from 'next/link'
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'
import { Button } from '@/components/ui/button'
import { BookOpen, FileText, Download, Calendar, ArrowRight } from 'lucide-react'

interface QuickActionsProps {
  tier: 'free' | 'member'
}

export function QuickActions({ tier }: QuickActionsProps) {
  const actions = [
    {
      title: 'Mulai Belajar',
      description: 'Akses kursus dan materi pembelajaran',
      href: '/courses',
      icon: BookOpen,
    },
    {
      title: 'Baca Riset',
      description: 'Laporan analisis saham terbaru',
      href: '/research',
      icon: FileText,
    },
    {
      title: 'Download Template',
      description: 'Template investasi dan checklist',
      href: '/downloads',
      icon: Download,
    },
    {
      title: 'Lihat Jadwal',
      description: 'Jadwal kohort dan sesi live',
      href: '/cohorts',
      icon: Calendar,
    },
  ]

  return (
    <div className="space-y-4">
      <h2 className="text-lg font-semibold">Aksi Cepat</h2>
      <div className="grid gap-4 md:grid-cols-2">
        {actions.map((action) => (
          <Card key={action.title} className="hover:bg-muted/50 transition-colors">
            <Link href={action.href}>
              <CardHeader className="flex flex-row items-center gap-4 pb-2">
                <div className="p-2 rounded-md bg-primary/10">
                  <action.icon className="h-5 w-5 text-primary" />
                </div>
                <div className="flex-1">
                  <CardTitle className="text-base">{action.title}</CardTitle>
                  <CardDescription className="text-xs">{action.description}</CardDescription>
                </div>
                <ArrowRight className="h-4 w-4 text-muted-foreground" />
              </CardHeader>
            </Link>
          </Card>
        ))}
      </div>

      {tier === 'free' && (
        <Card className="bg-primary/5 border-primary/20">
          <CardHeader>
            <CardTitle className="text-base">Upgrade ke Member</CardTitle>
            <CardDescription>
              Dapatkan akses penuh ke semua kursus, riset, template, dan komunitas premium.
            </CardDescription>
          </CardHeader>
          <CardContent>
            <Button asChild>
              <Link href="/pricing">Lihat Harga</Link>
            </Button>
          </CardContent>
        </Card>
      )}
    </div>
  )
}
```
  </action>
  <verify>
Check files exist:
- `frontend/src/components/member/DashboardStats.tsx`
- `frontend/src/components/member/QuickActions.tsx`

TypeScript should compile: `cd frontend && npx tsc --noEmit`
  </verify>
  <done>Dashboard components created: DashboardStats with tier-aware stats, QuickActions with navigation shortcuts and upgrade prompt for free users.</done>
</task>

<task type="auto">
  <name>Task 2: Create dashboard page</name>
  <files>
    frontend/src/app/(auth)/dashboard/page.tsx
  </files>
  <action>
Create directory `frontend/src/app/(auth)/dashboard/`.

Create `frontend/src/app/(auth)/dashboard/page.tsx`:
```typescript
import { Metadata } from 'next'
import { getUser } from '@/lib/auth/dal'
import { redirect } from 'next/navigation'
import { DashboardStats } from '@/components/member/DashboardStats'
import { QuickActions } from '@/components/member/QuickActions'
import { SITE_NAME } from '@/lib/constants'

export const metadata: Metadata = {
  title: `Dashboard - ${SITE_NAME}`,
  description: 'Kelola akun dan akses materi pembelajaran Anda.',
}

export default async function DashboardPage() {
  const user = await getUser()

  if (!user) {
    redirect('/login')
  }

  // Get time-based greeting
  const hour = new Date().getHours()
  let greeting = 'Selamat datang'
  if (hour < 12) {
    greeting = 'Selamat pagi'
  } else if (hour < 18) {
    greeting = 'Selamat siang'
  } else {
    greeting = 'Selamat malam'
  }

  return (
    <div className="space-y-8">
      {/* Welcome Section */}
      <div>
        <h1 className="text-3xl font-bold tracking-tight">
          {greeting}, {user.name.split(' ')[0]}!
        </h1>
        <p className="text-muted-foreground">
          {user.tier === 'member'
            ? 'Selamat datang kembali. Lanjutkan perjalanan investasi Anda.'
            : 'Anda sedang menggunakan akun gratis. Upgrade untuk akses penuh.'}
        </p>
      </div>

      {/* Stats Overview */}
      <DashboardStats tier={user.tier} />

      {/* Quick Actions */}
      <QuickActions tier={user.tier} />
    </div>
  )
}
```
  </action>
  <verify>
Check file exists: `frontend/src/app/(auth)/dashboard/page.tsx`

TypeScript should compile: `cd frontend && npx tsc --noEmit`
Build should succeed: `cd frontend && npm run build`
  </verify>
  <done>Dashboard page created with welcome message, stats overview, and quick actions.</done>
</task>

</tasks>

<verification>
Run all verification commands:

```bash
cd frontend

# Check TypeScript compiles
npx tsc --noEmit

# Check build succeeds
npm run build

# Verify file structure
ls -la src/app/\(auth\)/dashboard/
ls -la src/components/member/
```

All should pass without errors.
</verification>

<success_criteria>
1. DashboardStats shows 4 stats cards with tier-appropriate content
2. QuickActions shows 4 action cards linking to key sections
3. Free users see upgrade prompt in QuickActions
4. Dashboard page shows time-based greeting with user's first name
5. Dashboard shows different messaging for free vs member tiers
6. TypeScript compiles without errors
7. Build succeeds
</success_criteria>

<output>
After completion, create `.planning/phases/07-frontend-member-area/07-04-SUMMARY.md`
</output>
